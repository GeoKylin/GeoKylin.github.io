<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>æ ·ä¾‹æ–‡ç«  | GeoKylin</title>
    <meta name="robots" content="index, follow">
    <meta name="renderer" content="webkit"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <meta http-equiv="Cache-Control" content="no-transform"/>
    <meta http-equiv="Cache-Control" content="no-siteapp"/>
    <meta name="theme-color" content="#f8f5ec"/>
    <meta name="msapplication-navbutton-color" content="#f8f5ec">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">
    <meta name="author" content="GeoKylin"/>
    <meta name="description" content="GeoKylin çš„åœ°çƒç‰©ç†å­¦ä¸ªäººå­¦æœ¯åšå®¢"/>
    <meta name="keywords" content="GeoKylin, ç‹é”´, KaiWang, åšå®¢, blog, åœ°çƒç‰©ç†å­¦, Geophysics, åœ°éœ‡å­¦, Seismology"/>
    <meta name="generator" content="Hugo 0.53 with even 4.0.0"/>
    <link rel="canonical" href="https://geokylin.github.io/blog/articles/sample.html"/>
    <link rel="shortcut icon" type=image/x-icon href=../../img/favicon.png>
    <link rel=icon type=image/x-icon href=../../img/favicon.png>
    <link rel="apple-touch-icon" type=image/x-icon href="../../img/favicon.png">
    <link rel="manifest" href="../man/manifest.json">
    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link href="../css/even.c1094c8f.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css"
          integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
          crossorigin="anonymous">
    <meta property="og:title" content="æ ·ä¾‹æ–‡ç«  | GeoKylin"/>
    <meta property="og:description" content="GeoKylin çš„åœ°çƒç‰©ç†å­¦ä¸ªäººå­¦æœ¯åšå®¢"/>
    <meta property="og:type" content="article"/>
    <meta property="og:url" content="https://geokylin.github.io/blog/articles/sample.html"/>
    <meta property="article:published_time" content="2019-01-07T00:00:00&#43;08:00"/>
    <meta property="article:modified_time" content="2018-01-07T00:00:00&#43;08:00"/>
    <meta itemprop="name" content="æ ·ä¾‹æ–‡ç«  | GeoKylin">
    <meta itemprop="description" content="GeoKylin çš„åœ°çƒç‰©ç†å­¦ä¸ªäººå­¦æœ¯åšå®¢">
    <meta itemprop="datePublished" content="2019-01-07T00:00:00&#43;08:00"/>
    <meta itemprop="dateModified" content="2019-01-07T00:00:00&#43;08:00"/>
    <meta itemprop="wordCount" content="3872">
    <meta itemprop="keywords" content="GeoKylin, ç‹é”´, KaiWang, åšå®¢, blog, åœ°çƒç‰©ç†å­¦, Geophysics, åœ°éœ‡å­¦, Seismology"/>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="æ ·ä¾‹æ–‡ç«  | GeoKylin"/>
    <meta name="twitter:description" content="GeoKylin çš„åœ°çƒç‰©ç†å­¦ä¸ªäººå­¦æœ¯åšå®¢"/>
    <!--[if lte IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
    <![endif]-->
    <!--[if lt IE 9]>
    <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
    <![endif]-->
</head>
<body style="background-color: rgba(250,250,250,0.5)">
<div id="mobile-navbar" class="mobile-navbar">
    <div class="mobile-header-logo">
        <a href="../" class="logo">GeoKylin</a>
    </div>
    <div class="mobile-navbar-icon">
        <span></span>
        <span></span>
        <span></span>
    </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
    <ul class="mobile-menu-list">
        <a href="../">
            <li class="mobile-menu-item">é¦–é¡µ</li>
        </a>
        <a href="../post/">
            <li class="mobile-menu-item">å½’æ¡£</li>
        </a>
        <a href="../categories/">
            <li class="mobile-menu-item">åˆ†ç±»</li>
        </a>
        <a href="../tags/">
            <li class="mobile-menu-item">æ ‡ç­¾</li>
        </a>
        <a href="../links/">
            <li class="mobile-menu-item">é“¾æ¥</li>
        </a>
        <a href="../collections/">
            <li class="mobile-menu-item">åˆé›†</li>
        </a>
        <a href="../donations/">
            <li class="mobile-menu-item">æèµ </li>
        </a>
        <a href="../about/">
            <li class="mobile-menu-item">å…³äº</li>
        </a>
    </ul>
</nav>
<div class="container" id="mobile-panel">
    <header id="header" class="header" style="background-color: rgba(250,250,250,0.5)">
        <div class="logo-wrapper">
            <a href="../" class="logo">GeoKylin</a>
        </div>
        <nav class="site-navbar">
            <ul id="menu" class="menu">
                <li class="menu-item">
                    <a class="menu-item-link" href="../">é¦–é¡µ</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../post/">å½’æ¡£</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../categories/">åˆ†ç±»</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../tags/">æ ‡ç­¾</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../links/">é“¾æ¥</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../collections/">åˆé›†</a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../donations/">æèµ </a>
                </li>
                <li class="menu-item">
                    <a class="menu-item-link" href="../about/">å…³äº</a>
                </li>
            </ul>
        </nav>
    </header>
    <main id="main" class="main">
        <div class="content-wrapper">
            <div id="content" class="content">
                <article class="post">
                    <header class="post-header">
                        <h1 class="post-title">æ ·ä¾‹æ–‡ç« </h1>
                        <div class="post-meta">
                            <span class="post-time">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                                2018-07-13
                            </span>
                            <span class="more-meta">
                                <i class="fa fa-book" aria-hidden="true"></i>
                                çº¦ 3872 å­—
                            </span>
                            <span class="more-meta">
                                <i class="fa fa-clock-o" aria-hidden="true"></i>
                                é¢„è®¡é˜…è¯» 8 åˆ†é’Ÿ
                            </span>
                            <span id="busuanzi_container_page_pv" class="more-meta">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                                <span id="busuanzi_value_page_pv">
                                    <img src="../img/spinner.svg" alt="spinner.svg"/>
                                </span>
                                æ¬¡é˜…è¯»
                            </span>
                            <span class="more-meta">
                                    <i class="fa fa-paperclip" aria-hidden="true"></i>
                                    <a href="../categories/Test/">Test</a>
                                </span>
                            <div class="post-tags">
                                <i class="fa fa-tag" aria-hidden="true"></i>
                                <a href="../tags/ç™¾ç§‘/">å°è¯´</a>
                                <i class="fa fa-tag" aria-hidden="true"></i>
                                <a href="../tags/baike/">ç™¾ç§‘</a>
                            </div>
                        </div>
                    </header>

                    <div class="post-toc" id="post-toc">
                        <h2 class="post-toc-title">æ–‡ç« ç›®å½•</h2>
                        <div class="post-toc-content">
                            <nav id="TableOfContents">
                                <ul>
                                    <li>
                                        <ul>
                                            <li><a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a>
                                                <ul>
                                                    <li><a href="#å¼•å…¥-starter">å¼•å…¥ starter</a></li>
                                                    <li><a href="#å°†å®ä½“ç±»æš´éœ²ä¸ºæ¥å£">å°†å®ä½“ç±»æš´éœ²ä¸ºæ¥å£</a>
                                                        <ul>
                                                            <li><a href="#c-åˆ›å»º">C åˆ›å»º</a></li>
                                                            <li><a href="#r-æŸ¥è¯¢">R æŸ¥è¯¢</a></li>
                                                            <li><a href="#u-æ›´æ–°">U æ›´æ–°</a></li>
                                                            <li><a href="#d-åˆ é™¤">D åˆ é™¤</a></li>
                                                        </ul>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li><a href="#å°†å®ä½“æš´éœ²ä¸ºæ¥å£">å°†å®ä½“æš´éœ²ä¸ºæ¥å£</a></li>
                                            <li><a href="#éæŒä¹…åŒ–-å¯è®¡ç®—å±æ€§">éæŒä¹…åŒ–/å¯è®¡ç®—å±æ€§</a></li>
                                            <li><a href="#hooks">Hooks</a>
                                                <ul>
                                                    <li><a href="#ä½äºå®ä½“ç±»ä¸­çš„-hooks">ä½äºå®ä½“ç±»ä¸­çš„ Hooks</a></li>
                                                    <li><a href="#function-hooks">Function Hooks</a></li>
                                                </ul>
                                            </li>
                                            <li><a href="#ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</a></li>
                                            <li><a href="#éªŒè¯-jsr303">éªŒè¯(JSR303)</a></li>
                                            <li><a href="#æƒé™æ§åˆ¶">æƒé™æ§åˆ¶</a>
                                                <ul>
                                                    <li><a href="#permission-annotations">Permission Annotations</a>
                                                        <ul>
                                                            <li><a href="#readpermission">ReadPermission</a></li>
                                                            <li><a href="#updatepermission">UpdatePermission</a></li>
                                                            <li><a href="#createpermission">CreatePermission</a></li>
                                                            <li><a href="#deletepermission">DeletePermission</a></li>
                                                            <li><a href="#sharepermission">SharePermission</a></li>
                                                        </ul>
                                                    </li>
                                                    <li><a href="#user-checks">User Checks</a></li>
                                                    <li><a href="#operation-checks">Operation Checks</a></li>
                                                    <li><a href="#filter-expression-checks">Filter Expression Checks</a>
                                                    </li>
                                                    <li><a href="#åŒæ—¶ä½¿ç”¨å¤šä¸ª-check">åŒæ—¶ä½¿ç”¨å¤šä¸ª Check</a></li>
                                                </ul>
                                            </li>
                                            <li><a href="#json-api">JSON API</a></li>
                                            <li><a href="#graphql">GraphQL</a></li>
                                            <li><a href="#swagger">Swagger</a></li>
                                            <li><a href="#å†™åœ¨åå¤´">å†™åœ¨åå¤´</a></li>
                                            <li><a href="#reference-next">Reference &amp; Next</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="post-content">
                        <p>
                            <a href="https://baike.baidu.com/item/æˆ˜äº‰ä¸å’Œå¹³/9134429?fr=aladdin" target="_blank">ã€Šæˆ˜äº‰ä¸å’Œå¹³ã€‹</a>æ˜¯ä¿„å›½ä½œå®¶<a href="https://baike.baidu.com/item/åˆ—å¤«Â·å°¼å¤æ‹‰è€¶ç»´å¥‡Â·æ‰˜å°”æ–¯æ³°/1250657" target="_blank">åˆ—å¤«Â·å°¼å¤æ‹‰è€¶ç»´å¥‡Â·æ‰˜å°”æ–¯æ³°</a>åˆ›ä½œçš„é•¿ç¯‡å°è¯´ï¼Œä¹Ÿæ˜¯å…¶ä»£è¡¨ä½œï¼Œåˆ›ä½œäº1863â€”1869å¹´ã€‚
                        </p>
                        <p>
                            è¯¥ä½œä»¥1812å¹´çš„å«å›½æˆ˜äº‰ä¸ºä¸­å¿ƒï¼Œåæ˜ ä»1805åˆ°1820å¹´é—´çš„é‡å¤§å†å²äº‹ä»¶ã€‚ä»¥é²å°”åº·æ–¯ã€åˆ«ç¥–éœå¤«ã€ç½—æ–¯æ‰˜å¤«å’Œåº“æ‹‰é‡‘å››å¤§è´µæ—çš„ç»å†ä¸ºä¸»çº¿ï¼Œåœ¨æˆ˜äº‰ä¸å’Œå¹³çš„äº¤æ›¿æå†™ä¸­æŠŠä¼—å¤šçš„äº‹ä»¶å’Œäººç‰©ä¸²è”èµ·æ¥ã€‚
                        </p>
                        <div class="admonition note">
                            <p class="admonition-title">Note</p>
                            <p>
                                ä½œè€…å°†â€œæˆ˜äº‰â€ä¸â€œå’Œå¹³â€çš„ä¸¤ç§ç”Ÿæ´»ã€ä¸¤æ¡çº¿ç´¢äº¤å‰æå†™ï¼Œæ„æˆä¸€éƒ¨ç™¾ç§‘å…¨ä¹¦å¼çš„å£®é˜”å²è¯—ã€‚
                            </p>
                        </div>
                        <h2 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</h2>
                        <h3 id="å¼•å…¥-starter">å¼•å…¥ starter</h3>
                        <p>å¼•å…¥ starter å³å¯å®Œæˆè‡ªåŠ¨é…ç½®</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>org.illyasviel.elide<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>elide-spring-boot-starter<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>1.4.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>å¦‚æœä½ éœ€è¦ GraphQL çš„æ¥å£ï¼Œä½ éœ€è¦é¢å¤–å¼•å…¥</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.yahoo.elide<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>elide-graphql<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${elide.version}<span class="nt">&lt;/version&gt;</span> <span class="c">&lt;!-- ç›®å‰ starter æŒ‡å®šç‰ˆæœ¬ä¸º 4.2.3 --&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h3 id="å°†å®ä½“ç±»æš´éœ²ä¸ºæ¥å£">å°†å®ä½“ç±»æš´éœ²ä¸ºæ¥å£</h3>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Setter</span>
<span class="nd">@NoArgsConstructor</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span
            class="s">&#34;users&#34;</span><span class="o">)</span>
<span class="nd">@Entity</span>
<span class="nd">@Include</span><span class="o">(</span><span class="n">rootLevel</span> <span class="o">=</span> <span
            class="kc">true</span><span class="o">)</span>  <span class="c1">// &lt;---- åœ¨ä½ å®ä½“ç±»ä¸Šæ·»åŠ ä¸€è¡Œæ³¨è§£
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span
            class="o">{</span>

  <span class="kd">private</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">username</span><span class="o">;</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">password</span><span class="o">;</span>

  <span class="nd">@Id</span>
  <span class="nd">@GeneratedValue</span>
  <span class="kd">public</span> <span class="n">Integer</span> <span class="nf">getId</span><span
            class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">id</span><span
            class="o">;</span> <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getUsername</span><span
            class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span
            class="n">username</span><span class="o">;</span> <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getPassword</span><span
            class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span
            class="n">password</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>OKï¼Œå®Œæˆäº† ğŸ˜‚ã€‚ä½ å·²ç»æ‹¥æœ‰äº† CRUD çš„ API æ¥å£äº†ï¼Œç°åœ¨æ¥è¯•è¯•å§ã€‚</p>
                        <div class="admonition warning"><p class="admonition-title">Warning</p>
                            <p>è¯·æ³¨æ„ä½ çš„ JPA åŠä¸‹æ–‡æ‰€è¿°çš„æ³¨è§£æœ€å¥½æ”¾åœ¨ get æ–¹æ³•ä¸Šï¼ŒElide ç›®å‰æ²¡æœ‰å®Œå…¨æ”¯æŒä½äº field ä¸Šçš„æ³¨è§£ã€‚</p>
                        </div>
                        <h4 id="c-åˆ›å»º">C åˆ›å»º</h4>
                        <p>ä½¿ç”¨ JSON API åˆ›å»º user</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span
        class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&#34;data&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;user&#34;</span><span
            class="p">,</span>
    <span class="s2">&#34;attributes&#34;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&#34;username&#34;</span><span class="o">:</span> <span class="s2">&#34;test&#34;</span><span
            class="p">,</span>
      <span class="s2">&#34;password&#34;</span><span class="o">:</span> <span class="s2">&#34;test&#34;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span
            class="s1">&#39;http://localhost:8080/api/user&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/vnd.api+json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/vnd.api+json&#39;</span><span
            class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span
            class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span
            class="nx">ok</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span
            class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>ä½¿ç”¨ GraphQL åˆ›å»º user</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">payload</span> <span
        class="o">=</span> <span class="p">{</span>
  <span class="s2">&#34;query&#34;</span><span class="o">:</span> <span class="s2">&#34;mutation createUser($name: String, $pw: String) { user(op: UPSERT, data: { username: $name, password: $pw }) { edges { node { id username } } } }&#34;</span><span
            class="p">,</span>
  <span class="s2">&#34;variables&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;name&#34;</span><span class="o">:</span> <span class="s2">&#34;alice&#34;</span><span
            class="p">,</span>
    <span class="s2">&#34;pw&#34;</span><span class="o">:</span> <span class="s2">&#34;123&#34;</span><span
            class="p">,</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:8080/api/graphql&#39;</span><span
            class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span
            class="nx">stringify</span><span class="p">(</span><span class="nx">payload</span><span class="p">),</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span
            class="nx">ok</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span
            class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h4 id="r-æŸ¥è¯¢">R æŸ¥è¯¢</h4>

                        <p>ä½¿ç”¨ JSON API <strong>åˆ†é¡µ &amp; è¿‡æ»¤ &amp; æŒ‡å®šå±æ€§ &amp; æ’åº</strong>æŸ¥è¯¢ user</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">fetch</span><span class="p">(</span><span
        class="nb">encodeURI</span><span class="p">(</span><span class="s2">&#34;http://localhost:8080/api/user?filter[user]=username==&#39;test&#39;&amp;fields[user]=id,username&amp;sort=-id&amp;page[number]=1&amp;page[size]=3&amp;page[totals]&#34;</span><span
        class="p">),</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/vnd.api+json&#39;</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span
            class="nx">ok</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span
            class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>ä½¿ç”¨ GraphQL æŸ¥è¯¢ user</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span
        class="nx">query</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&#34;query&#34;</span><span class="o">:</span> <span class="s2">&#34;query { user { edges { node { id username } } } }&#34;</span>
<span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://localhost:8080/api/graphql&#39;</span><span
            class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/json&#39;</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span
            class="nx">stringify</span><span class="p">(</span><span class="nx">query</span><span class="p">),</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span
            class="nx">ok</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span
            class="p">.</span><span class="nx">json</span><span class="p">())</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h4 id="u-æ›´æ–°">U æ›´æ–°</h4>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">var</span> <span
        class="nx">data</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&#34;data&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;id&#34;</span><span class="o">:</span> <span class="s2">&#34;1&#34;</span><span
            class="p">,</span>
    <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;user&#34;</span><span
            class="p">,</span>
    <span class="s2">&#34;attributes&#34;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&#34;username&#34;</span><span class="o">:</span> <span class="s2">&#34;new name&#34;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span
            class="s1">&#39;http://localhost:8080/api/user/1&#39;</span><span class="p">,</span> <span
            class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/vnd.api+json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/vnd.api+json&#39;</span><span
            class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span
            class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span
            class="nx">status</span> <span class="o">===</span> <span class="mi">204</span> <span
            class="o">?</span> <span class="s1">&#39;ok&#39;</span> <span class="o">:</span> <span class="s1">&#39;failure&#39;</span><span
            class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h4 id="d-åˆ é™¤">D åˆ é™¤</h4>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">fetch</span><span class="p">(</span><span
        class="s1">&#39;http://localhost:8080/api/user/1&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;DELETE&#39;</span><span
            class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;Accept&#39;</span><span class="o">:</span> <span
            class="s1">&#39;application/vnd.api+json&#39;</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span
            class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span
            class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span
            class="nx">status</span> <span class="o">===</span> <span class="mi">204</span> <span
            class="o">?</span> <span class="s1">&#39;ok&#39;</span> <span class="o">:</span> <span class="s1">&#39;failure&#39;</span><span
            class="p">));</span>
</code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="å°†å®ä½“æš´éœ²ä¸ºæ¥å£">å°†å®ä½“æš´éœ²ä¸ºæ¥å£</h2>

                        <p>å°†å®ä½“æš´éœ²ä¸ºæ¥å£åªéœ€è¦ä¸ºå…¶æ·»åŠ  <code>@Include</code> æˆ– <code>@Include(rootLevel=true)</code>
                            æ³¨è§£å³å¯ï¼Œæš´éœ²çš„è·¯å¾„é»˜è®¤ä¸ºå®ä½“åç§°çš„é¦–å­—æ¯å°å†™å½¢å¼ï¼Œå³ <code>User</code> -&gt; <code>user</code>ï¼Œä¸æŒ‡å®š
                            <code>rootLevel</code> çš„å®ä½“æ— æ³•ä»æ ¹è·¯å¾„ç›´æ¥è®¿é—®ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Include</span><span
        class="o">(</span><span class="n">rootLevel</span><span class="o">=</span><span class="kc">true</span><span
        class="o">)</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Author</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Book</span><span
            class="o">&gt;</span> <span class="n">books</span><span class="o">;</span>
  <span class="o">...</span>
  <span class="nd">@ManyToMany</span>
  <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Book</span><span
            class="o">&gt;</span> <span class="nf">getBooks</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">books</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="o">...</span>
<span class="o">}</span>

<span class="nd">@Include</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span
            class="n">Author</span><span class="o">&gt;</span> <span class="n">authors</span><span class="o">;</span>
  <span class="o">...</span>
  <span class="nd">@ManyToMany</span>
  <span class="kd">public</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Author</span><span
            class="o">&gt;</span> <span class="nf">getAuthors</span><span class="o">()</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">authors</span><span class="o">;</span>
  <span class="o">}</span>
  <span class="o">...</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>
                            ä¾‹å¦‚ä¸Šè¿°ä»£ç ï¼Œä½ æ— æ³•ç›´æ¥è®¿é—® Bookï¼Œå³ <code>/api/book</code> ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è·¯å¾„ï¼Œå¿…é¡»é€šè¿‡å…¶ä»–æš´éœ²äºæ ¹è·¯å¾„çš„å…³ç³»æŠµè¾¾ï¼Œå¦‚ <code>/api/author/:authorId/books</code>ã€‚
                        </p>
                        <p>
                            è¢« <code>@Include</code> æ³¨è§£çš„å®ä½“ç±»å°†æš´éœ²å…¶æ‰€æœ‰çš„å±æ€§ï¼Œé™¤éä½ ä½¿ç”¨ <code>@Transient</code> æˆ– <code>@Exclude</code>
                            æ ‡è®°å±æ€§ã€‚è¢« <code>@Transient</code> æ ‡è®°çš„å±æ€§ä¼šåŒæ—¶è¢« Elide äº JPA å¿½ç•¥ï¼Œè€Œè¢« <code>@Exclude</code> æ ‡è®°çš„å±æ€§åªä¼šè¢«
                            Elide å¿½ç•¥ã€‚
                        </p>
                        <h2 id="éæŒä¹…åŒ–-å¯è®¡ç®—å±æ€§">éæŒä¹…åŒ–/å¯è®¡ç®—å±æ€§</h2>

                        <p>
                            é€šè¿‡ <code>@ComputedAttribute</code> æˆ– <code>@ComputedRelationship</code> æ³¨è§£ä½ å¯ä»¥æš´éœ²ä¸€ä¸ªä¸å­˜åœ¨äº JPA
                            ä¸­çš„å±æ€§ã€‚è¯¥å±æ€§ä¸å…¶ä»–å±æ€§å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯ä¼šå› ä¸º <code>@Transient</code> è€Œè¢« JPA å¿½ç•¥ã€‚
                        </p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Include</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
  <span class="o">...</span>
  <span class="nd">@Transient</span>
  <span class="nd">@ComputedAttribute</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getMyComputedAttribute</span><span
            class="o">(</span><span class="n">RequestScope</span> <span class="n">requestScope</span><span
            class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="s">&#34;My special string stored only in the JVM!&#34;</span><span
            class="o">;</span>
  <span class="o">}</span>
  <span class="o">...</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p><code>RequestScope</code> æ˜¯å¯é€‰å‚æ•°ï¼Œè¯¥å±æ€§æœ€åå½¢æˆ <code>myComputedAttribute</code> è¿™æ ·çš„å­—æ®µã€‚</p>
                        <h2 id="hooks">Hooks</h2>
                        <p>Hooks ç»™äºˆä½ åœ¨ CRUD äº‹ä»¶ä¸­è§¦å‘å…¶å®ƒä¸šåŠ¡é€»è¾‘æˆ–æ˜¯å¯¹è¯¥æ“ä½œå¯¹åº”çš„å®ä½“ç±»è¿›è¡Œä¿®æ”¹çš„æœºä¼šï¼Œç›®å‰æ”¯æŒä¸‰ç§ä¸åŒçš„æ—¶æœŸï¼š</p>
                        <ol>
                            <li><em>Pre Security</em> - æƒé™æ£€æŸ¥å‰</li>
                            <li><em>Pre Commit</em> - äº‹åŠ¡æäº¤å‰ï¼Œæœ‰å¯èƒ½å·²ç» flush äº†</li>
                            <li><em>Post Commit</em> - äº‹åŠ¡æäº¤å</li>
                            <li>
                                <del>æ²¡æœ‰ <em>Post Security</em> å‘¢</del>
                            </li>
                        </ol>

                        <p>å„ä¸ªæ—¶æœŸæ‰€å¯¹åº” CRUD æ³¨è§£ï¼š</p>

                        <ul>
                            <li><code>@OnCreatePreSecurity</code></li>
                            <li><code>@OnCreatePreCommit</code></li>
                            <li><code>@OnCreatePostCommit</code></li>
                            <li><code>@OnDeletePreSecurity</code></li>
                            <li><code>@OnDeletePreCommit</code></li>
                            <li><code>@OnDeletePostCommit</code></li>
                            <li><code>@OnUpdatePreSecurity(value)</code></li>
                            <li><code>@OnUpdatePreCommit(value)</code></li>
                            <li><code>@OnUpdatePostCommit(value)</code></li>
                            <li><code>@OnReadPreSecurity(value)</code></li>
                            <li><code>@OnReadPreCommit(value)</code></li>
                            <li><code>@OnReadPostCommit(value)</code></li>
                        </ul>

                        <p>value ä¸ºå¯é€‰å€¼ï¼Œè‹¥æŒ‡å®š valueï¼Œåˆ™ä»…å½“æŒ‡å®šå±æ€§çš„æŒ‡å®šæ“ä½œå‘ç”Ÿæ—¶è§¦å‘ï¼›è‹¥ value ä¸ºç©ºï¼Œåˆ™æ³¨è§£é’ˆå¯¹å®ä½“ï¼Œå³åªè¦è¯¥å®ä½“çš„æŸä¸ªå±æ€§è§¦å‘äº†æŒ‡å®šæ“ä½œå°±ä¼šè§¦å‘ã€‚</p>

                        <h3 id="ä½äºå®ä½“ç±»ä¸­çš„-hooks">ä½äºå®ä½“ç±»ä¸­çš„ Hooks</h3>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Entity</span>
<span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>
  <span class="nd">@Column</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="n">title</span><span class="o">;</span>

  <span class="nd">@OnReadPreSecurity</span><span class="o">(</span><span class="s">&#34;title&#34;</span><span
            class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReadTitle</span><span
            class="o">()</span> <span class="o">{</span>
    <span class="c1">// æŸ¥è¯¢ title å±æ€§æ—¶è§¦å‘ï¼ŒGraphQL å¿…é¡»æ˜¾ç¤ºæŒ‡å®šï¼Œè€Œ JSON API å¯ä»¥æ˜¾ç¤ºæŒ‡å®š
</span><span class="c1"></span>    <span class="c1">// æƒé™æ£€æŸ¥å‰è§¦å‘
</span><span class="c1"></span>  <span class="o">}</span>

  <span class="nd">@OnUpdatePreSecurity</span><span class="o">(</span><span class="s">&#34;title&#34;</span><span
            class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpdateTitle</span><span
            class="o">()</span> <span class="o">{</span>
    <span class="c1">// æ›´æ–° title å±æ€§æ—¶
</span><span class="c1"></span>    <span class="c1">// æƒé™æ£€æŸ¥å‰è§¦å‘
</span><span class="c1"></span>  <span class="o">}</span>

  <span class="nd">@OnUpdatePostCommit</span><span class="o">(</span><span class="s">&#34;title&#34;</span><span
            class="o">)</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCommitTitle</span><span
            class="o">()</span> <span class="o">{</span>
    <span class="c1">// æ›´æ–° title å±æ€§æ—¶
</span><span class="c1"></span>    <span class="c1">// äº‹åŠ¡æäº¤å
</span><span class="c1"></span>  <span class="o">}</span>

  <span class="nd">@OnCreatePostCommit</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCommitBook</span><span
            class="o">()</span> <span class="o">{</span>
    <span class="c1">// åˆ›å»ºå®ä½“æ—¶è§¦å‘
</span><span class="c1"></span>    <span class="c1">// äº‹åŠ¡æäº¤åè§¦å‘
</span><span class="c1"></span>  <span class="o">}</span>

  <span class="cm">/**
</span><span class="cm">   * æ‰€æœ‰çš„è§¦å‘å™¨å‡½æ•°éƒ½å¯ä»¥å¯é€‰çš„æ¥å— `RequestScope` å‚æ•°
</span><span class="cm">   * è¯¥å‚æ•°å¯ç”¨äºè®¿é—®ä» Spring MVC Controller çš„å‚æ•°ä¸­è·å–åˆ°çš„ Principle å¯¹è±¡
</span><span class="cm">   */</span>
  <span class="nd">@OnDeletePreCommit</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDeleteBook</span><span
            class="o">(</span><span class="n">RequestScope</span> <span class="n">scope</span><span
            class="o">)</span> <span class="o">{</span>
    <span class="c1">// åˆ é™¤å®ä½“æ—¶è§¦å‘
</span><span class="c1"></span>    <span class="c1">// äº‹åŠ¡æäº¤å‰è§¦å‘
</span><span class="c1"></span>  <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>æ›´æ–°æ“ä½œçš„è§¦å‘å™¨å‡½æ•°è¿˜å¯æ¥æ”¶ä¸€ä¸ª <code>ChangeSpec</code> å‚æ•°ï¼Œè¯¥å‚æ•°åŒ…å«äº†æŒ‡å®šå±æ€§ä¿®æ”¹å‰å’Œä¿®æ”¹åçš„å€¼ã€‚ä½†è¯·æ³¨æ„ï¼Œç›®å‰æ¥è¯´ï¼Œè‹¥æ²¡æœ‰æŒ‡å®šå±æ€§æ—¶ï¼Œå³ <code>@OnUpdatePreSecurity</code>
                            åªè¦æ˜¯æ›´æ–°æ“ä½œå°±ä¼šè§¦å‘ï¼Œæ­¤æ—¶ <code>ChangeSpec</code> æ˜¯æ²¡æœ‰æœ‰æ•ˆå€¼çš„ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@OnUpdatePreSecurity</span><span
        class="o">(</span><span class="s">&#34;title&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpdateTitle</span><span
            class="o">(</span><span class="n">RequestScope</span> <span class="n">scope</span><span
            class="o">,</span> <span class="n">ChangeSpec</span> <span class="n">changeSpec</span><span
            class="o">)</span> <span class="o">{</span>
  <span class="c1">// å½“ title è¢«ä¿®æ”¹æ—¶ï¼ˆPATCH è¯·æ±‚åŒ…å« title å±æ€§ä¸”ä»æ•°æ®åº“è¯»å–çš„å€¼å’Œ PATCH ä¸­ç»™å®šçš„å€¼ä¸ä¸€è‡´æ—¶ï¼‰è§¦å‘
</span><span class="c1"></span>  <span class="c1">// æƒé™æ£€æŸ¥å‰è§¦å‘
</span><span class="c1"></span>  <span class="c1">// ä¿®æ”¹å changeSpec.getModifiedï¼Œä¿®æ”¹å‰ changeSpec.getOriginal
</span><span class="c1"></span><span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="admonition tip"><p class="admonition-title">Tip</p>
                            <p>åœ¨å¼€å¯ Spring çš„ä¾èµ–æ³¨å…¥åï¼ˆç”± starter æä¾›ï¼Œé»˜è®¤å¼€å¯ï¼‰ï¼Œä½ å¯ä»¥åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨
                                <code>@Autowired</code>ï¼Œ<code>@Inject</code> ç­‰æ³¨è§£æ³¨å…¥ Bean ä»¥ä¾›è§¦å‘å™¨å‡½æ•°ä½¿ç”¨&hellip;ä¸ªäººå»ºè®®ä½ å…³æ‰å®ƒï¼Œç”¨ä¸‹é¢æåˆ°çš„
                                Function Hooksã€‚</p>

                        </div>

                        <h3 id="function-hooks">Function Hooks</h3>

                        <p>å¦‚æœä½ ä¸æƒ³æ±¡æŸ“ä½ çš„å®ä½“ç±»ï¼Œå¯ä»¥å®ç° <code>LifeCycleHook&lt;Entity&gt;</code> æ¥å£å°†é€»è¾‘ä¸å®ä½“ç±»åˆ†ç¦»ã€‚è¿™é‡Œä½¿ç”¨äº† starter æä¾›
                            <code>@ElideHook</code> æ³¨è§£è‡ªåŠ¨ç»‘å®š Function Hookï¼Œè¯¥æ³¨è§£çš„ <code>fieldOrMethodName</code> ä¸ºå¯é€‰å€¼ï¼Œä¸ä¸Šè¿°çš„
                            value å€¼ç­‰ä»·ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@ElideHook</span><span
        class="o">(</span><span class="n">lifeCycle</span> <span class="o">=</span> <span
        class="n">OnUpdatePreCommit</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span
        class="n">fieldOrMethodName</span> <span class="o">=</span> <span class="s">&#34;password&#34;</span><span
        class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserOnUpdatePreCommit</span> <span
            class="kd">implements</span> <span class="n">LifeCycleHook</span><span class="o">&lt;</span><span class="n">User</span><span
            class="o">&gt;</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">final</span> <span class="n">PasswordEncoder</span> <span class="n">passwordEncoder</span><span
            class="o">;</span>

  <span class="nd">@Autowired</span>
  <span class="kd">public</span> <span class="nf">UserOnUpdatePreCommit</span><span class="o">(</span><span class="n">PasswordEncoder</span> <span
            class="n">passwordEncoder</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">passwordEncoder</span> <span class="o">=</span> <span
            class="n">passwordEncoder</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">execute</span><span
            class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">,</span> <span
            class="n">RequestScope</span> <span class="n">requestScope</span><span class="o">,</span> <span class="n">Optional</span><span
            class="o">&lt;</span><span class="n">ChangeSpec</span><span class="o">&gt;</span> <span
            class="n">changes</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// encode password
</span><span class="c1"></span>  <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</h2>

                        <p>ç”± starter æä¾›çš„åŠŸèƒ½ï¼Œæ¯æ¬¡ Elide å®ä¾‹åŒ–ä¸€ä¸ªå®ä½“æ—¶ Spring éƒ½ä¼šå°è¯•è‡ªåŠ¨æ³¨å…¥ Beanã€‚å¦‚å‰æ–‡æ‰€è¨€ï¼Œä¸ªäººå»ºè®®å…³æ‰è¿™ä¸ªé»˜è®¤å¼€å¯çš„åŠŸèƒ½&hellip;</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="c"># application.yml</span><span
        class="w">
</span><span class="w"></span>elide<span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="c"># å…³é—­ Spring ä¾èµ–æ³¨å…¥</span><span class="w">
</span><span class="w">  </span>spring-dependency-injection<span class="p">:</span><span class="w"> </span><span
        class="kc">false</span><span class="w">
</span><span class="w">  </span><span class="c"># é¡ºå¸¦ä¸€æï¼Œå»ºè®®å¼€å¯è¿™ä¸ªé»˜è®¤å…³é—­çš„é…ç½®ï¼Œä½¿è¿”å›çš„é”™è¯¯å¯¹è±¡ç¬¦åˆ JSON API åŠ GraphQL è§„èŒƒ</span><span
        class="w">
</span><span class="w">  </span>return-error-objects<span class="p">:</span><span class="w"> </span><span class="kc">true</span><span
        class="w"> </span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="éªŒè¯-jsr303">éªŒè¯(JSR303)</h2>

                        <p>å°†æ³¨è§£åº”ç”¨åœ¨ get æ–¹æ³•ä¸Šå³å¯ï¼Œç›®å‰æ¥è¯´å®é™…ä¸Šæ˜¯ç”± Hibernate æä¾›çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä½ åœ¨ <code>On..PreSecurity</code>
                            ä¸­è®¿é—®åˆ°çš„å®é™…ä¸Šæ˜¯æœªç»éªŒè¯çš„å€¼ï¼Œå¯ä»¥æ³¨å…¥ <code>Validators</code> æ‰‹åŠ¨è°ƒç”¨éªŒè¯ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@NotNull</span><span
        class="o">(</span><span class="n">message</span> <span class="o">=</span> <span
        class="s">&#34;å¯†ç ä¸åº”è¯¥ä¸ºç©º&#34;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">getPassword</span><span
            class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span
            class="n">password</span><span class="o">;</span> <span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="æƒé™æ§åˆ¶">æƒé™æ§åˆ¶</h2>

                        <h3 id="permission-annotations">Permission Annotations</h3>

                        <p>æƒé™æ§åˆ¶ç”± 5 ä¸ªæ³¨è§£å®ç°ï¼Œ<code>ReadPermission</code>, <code>UpdatePermission</code>, <code>CreatePermission</code>,
                            <code>DeletePermission</code>, <code>SharePermission</code>ã€‚é™¤ <code>SharePermission</code>
                            å¤–éƒ½æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„è¡¨è¾¾å¼ï¼Œè¯¥å­—ç¬¦ä¸²åŒ…å«è‹¥å¹²ä¸ª <code>Check</code>ï¼Œå¯ç”± <code>AND</code>, <code>OR</code>,
                            <code>NOT</code>, <code>å°æ‹¬å·</code> ä»¥åŠ <code>Check</code> ç»„æˆï¼Œåªæœ‰å½“è¯¥è¡¨è¾¾å¼ç»„æˆçš„ <code>Check</code> è¿”å›
                            <code>True</code> æ—¶æŒ‡å®šæ“ä½œæ‰å¯æ‰§è¡Œã€‚</p>

                        <p>æƒé™æ³¨è§£ä¼šå‘ä¸Šè¿›è¡Œå¯»æ‰¾ç›´åˆ°å‘ç°æˆ–ä½¿ç”¨é»˜è®¤å€¼ï¼Œéµå¾ªä¸‹è¿°é¡ºåºï¼Œå³ä¼˜å…ˆçº§ç”±é«˜åˆ°åº•ï¼ˆ<strong>å¯è¦†ç›–</strong>ï¼‰ï¼š</p>

                        <ol>
                            <li>get æ–¹æ³•ä¸Šçš„æ³¨è§£</li>
                            <li>ç±»æ³¨è§£</li>
                            <li>è¯¥åŒ…ä¸‹ package-info ä¸Šçš„æ³¨è§£</li>
                            <li>é»˜è®¤å€¼</li>
                        </ol>

                        <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ä½“ç±»æ‹¥æœ‰é™¤ <code>SharePermission</code> çš„æ‰€æœ‰æƒé™ã€‚</p>

                        <h4 id="readpermission">ReadPermission</h4>

                        <p>æ ‡è¯†<strong>å­—æ®µæˆ–å®ä½“</strong>æ˜¯å¦å¯è¯»å–ï¼Œè¯¥æƒé™ä¼šåˆ†å±‚è¿›è¡Œè¯„ä¼°ï¼Œä¾‹å¦‚ <code>GET /users/1/posts/3/comments/99</code>
                            è¿™ä¸ªè¯·æ±‚åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼š</p>

                        <ol>
                            <li><code>User&lt;1&gt;#posts</code> æ˜¯å¦å¯è¯»ã€‚</li>
                            <li><code>Post&lt;3&gt;#comments</code> æ˜¯å¦å¯è¯»ã€‚</li>
                            <li><code>Comment&lt;99&gt;</code> æ˜¯å¦å¯è¯»ï¼Œè‹¥å¯è¯»ï¼Œè¿˜å°†é€ä¸ªæ£€æŸ¥å£°æ˜è¦è¯»å–çš„å­—æ®µã€‚</li>
                        </ol>

                        <h4 id="updatepermission">UpdatePermission</h4>

                        <p>æ ‡è¯†<strong>å®ä½“æˆ–å­—æ®µ</strong>æ˜¯å¦å¯æ›´æ–°ï¼Œé™¤æ›´æ–°æ“ä½œå¤–ï¼Œåˆ›å»ºæˆ–æ›´æ”¹ä¸€ä¸ªåŒå‘å…³ç³»æ—¶ï¼Œå¯¹ä¾§çš„ <code>UpdatePermission</code> ä¹Ÿéœ€è¦è¿›è¡Œè¯„ä¼°ã€‚
                        </p>

                        <h4 id="createpermission">CreatePermission</h4>

                        <p>æ ‡è¯†<strong>å®ä½“æˆ–å­—æ®µ</strong>æ˜¯å¦å¯åœ¨ POST è¯·æ±‚ä¸­åˆå§‹åŒ–æ•°æ®ã€‚</p>

                        <h4 id="deletepermission">DeletePermission</h4>

                        <p>æ ‡è¯†<strong>å®ä½“</strong>æ˜¯å¦å¯åˆ é™¤</p>

                        <div class="admonition question"><p class="admonition-title">Question</p>
                            <p>JSON API æ”¯æŒåªåˆ é™¤å…³è”è€Œä¸åˆ é™¤å®ä½“ï¼Œé‚£ä¹ˆè¯¥æ³¨è§£æ˜¯å¦äºå…³ç³»å­—æ®µä»ç„¶æœ‰æ•ˆï¼Ÿå¯ä»¥è‡ªè¡Œå°è¯•ä¸€ä¸‹~</p>

                        </div>

                        <h4 id="sharepermission">SharePermission</h4>

                        <p>è¿™æ˜¯å”¯ä¸€é»˜è®¤ä¸æ‹¥æœ‰çš„æƒé™ï¼Œæ ‡è®°ä¸€ä¸ªå·²å­˜åœ¨ï¼ˆä¸æ˜¯è¯¥è¯·æ±‚æ–°å»ºçš„ï¼‰çš„å®ä½“æ˜¯å¦å¯ä»¥è¢«å…¶å®ƒå®ä½“å…³è”ã€‚ä¾‹å¦‚ï¼Œæ–°å»ºï¼ˆPOSTï¼‰ä¸€ä¸ª <code>Phone</code>
                            å¯¹è±¡ï¼Œå¹¶æŒ‡å®šå…¶æ‰€æœ‰è€…ï¼ˆ<code>owner</code> ä¸ºå·²ç»å­˜åœ¨çš„å®ä½“ï¼‰ï¼Œå¦‚æœè¯¥ <code>owner</code> å®ä½“ä¸æ‹¥æœ‰
                            <code>SharePermission</code> åˆ™è§†ä¸ºæ²¡æœ‰æƒé™è¿™æ ·åšã€‚</p>

                        <h3 id="user-checks">User Checks</h3>

                        <p>User Check ç»§æ‰¿è‡ª <code>com.yahoo.elide.security.checks.UserCheck</code>ï¼Œè¿”å›çš„ boolean
                            å€¼æ ‡è¯†å½“å‰ç”¨æˆ·æ˜¯å¦æ‹¥æœ‰è¿›è¡ŒæŒ‡å®šæ“ä½œçš„æƒé™ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span
        class="kd">class</span> <span class="nc">UserCheck</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span
            class="n">String</span> <span class="n">REJECT_ALL</span> <span class="o">=</span> <span class="s">&#34;reject all&#34;</span><span
            class="o">;</span>

  <span class="nd">@ElideCheck</span><span class="o">(</span><span class="n">REJECT_ALL</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span
            class="nc">RejectAll</span> <span class="kd">extends</span> <span class="n">com</span><span
            class="o">.</span><span class="na">yahoo</span><span class="o">.</span><span class="na">elide</span><span
            class="o">.</span><span class="na">security</span><span class="o">.</span><span
            class="na">checks</span><span class="o">.</span><span class="na">UserCheck</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">ok</span><span
            class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">)</span> <span
            class="o">{</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>ä¸ Function hooks ä¸€æ ·ï¼Œä¸ºäº†å…å»æ‰‹åŠ¨ç»‘å®šè¿™ä¸ªç¹ççš„ä»»åŠ¡ï¼Œä½¿ç”¨ç”± starter æä¾›çš„ <code>@ElideCheck</code> æ³¨è§£è‡ªåŠ¨ç»‘å®š
                            Checkï¼Œè¯¥æ³¨è§£æ¥æ”¶ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„å­—ç¬¦ä¸²ç”¨äºæ ‡è¯†è¯¥ Checkï¼Œåç»­å¯åœ¨ç›¸åº”çš„å®ä½“ç±»æˆ–å­—æ®µä¸Šè¿™æ ·ä½¿ç”¨ï¼š</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@NotNull</span>
<span class="nd">@ReadPermission</span><span class="o">(</span><span class="n">expression</span> <span
            class="o">=</span> <span class="n">REJECT_ALL</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">getPassword</span><span
            class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span
            class="n">password</span><span class="o">;</span> <span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>ç°åœ¨ï¼Œä»»ä½•äººéƒ½æ— æ³•è¯»å– password è¿™ä¸ªå­—æ®µäº†ã€‚</p>

                        <div class="admonition tip"><p class="admonition-title">Tip</p>
                            <p>Elide æä¾›äº†å¤šä¸ªé¢„ç½®çš„ Checkï¼Œä¸Šè¿°çš„ <code>@ReadPermission(expression = REJECT_ALL)</code> ç­‰ä»·äº <code>@ReadPermission(expression
                                = &quot;Prefab.Role.None&quot;)</code>ï¼Œç›¸åº”çš„ <code>&quot;Prefab.Role.All&quot;</code> æ€»æ˜¯è¿”å›
                                <code>true</code>ã€‚</p>

                        </div>

                        <h3 id="operation-checks">Operation Checks</h3>

                        <p>User Check ç»§æ‰¿è‡ª <code>OperationCheck&lt;Entity&gt;</code>ï¼Œä¸ User Checks ä¸åŒçš„æ˜¯ï¼ŒOperation Checks
                            <strong>å¯ä»¥</strong>ä¹Ÿ<strong>éœ€è¦</strong>è¯»å–å®ä½“çš„æ•°æ®ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span
        class="kd">class</span> <span class="nc">UserPropertyCheck</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span
            class="n">String</span> <span class="n">EMAIL_PUBLIC</span> <span class="o">=</span> <span class="s">&#34;email.public&#34;</span><span
            class="o">;</span>

  <span class="nd">@ElideCheck</span><span class="o">(</span><span class="n">EMAIL_PUBLIC</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">EmailCheck</span> <span
            class="kd">extends</span> <span class="n">OperationCheck</span><span class="o">&lt;</span><span class="n">User</span><span
            class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">ok</span><span
            class="o">(</span><span class="n">User</span> <span class="n">user</span><span class="o">,</span> <span
            class="n">RequestScope</span> <span class="n">requestScope</span><span class="o">,</span> <span class="n">Optional</span><span
            class="o">&lt;</span><span class="n">ChangeSpec</span><span class="o">&gt;</span> <span
            class="n">changeSpec</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">return</span> <span class="n">user</span><span class="o">.</span><span
            class="na">getEmailPublic</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="admonition warning"><p class="admonition-title">Warning</p>
                            <p>æˆªè‡³ç›®å‰ï¼Œå¦‚æœä½ å°† Operation Checks ç½®äºç±»çº§åˆ«ä¸Šï¼Œæ­¤æ—¶ä½ å°†åœ¨å†…å­˜ä¸­è¿‡æ»¤å®ä½“ï¼Œæ­¤æ—¶è¯¥å®ä½“å°†ä¸å†æ”¯æŒåˆ†é¡µï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸‹é¢çš„ Filter Expression
                                Checks æˆ–è€…æŠŠ Checks åˆ†æ•£äºè¯¥å®ä½“çš„å±æ€§ä¸Šã€‚</p>

                        </div>

                        <h3 id="filter-expression-checks">Filter Expression Checks</h3>

                        <p>Filter Expression Checks ç»§æ‰¿è‡ª <code>FilterExpressionCheck&lt;Entity&gt;</code>ï¼Œè¯¥ç±»å‹çš„ Check
                            å°†ç›´æ¥åº”ç”¨åˆ° where å­å¥ä¸­ã€‚</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span
        class="kd">class</span> <span class="nc">TopicFilterCheck</span> <span class="o">{</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span
            class="n">String</span> <span class="n">NON_DELETE</span> <span class="o">=</span> <span class="s">&#34;topic.delete.false.filter&#34;</span><span
            class="o">;</span>

  <span class="nd">@ElideCheck</span><span class="o">(</span><span class="n">NON_DELETE</span><span class="o">)</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">TopicNotDeleteFilter</span> <span
            class="kd">extends</span> <span class="n">FilterExpressionCheck</span><span class="o">&lt;</span><span
            class="n">Topic</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">FilterExpression</span> <span
            class="nf">getFilterExpression</span><span class="o">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span> <span
            class="n">entityClass</span><span class="o">,</span> <span class="n">RequestScope</span> <span class="n">requestScope</span><span
            class="o">)</span> <span class="o">{</span>

      <span class="c1">// ç±»ä¼¼ `topic.delete in (false)` è¿™æ ·çš„å­å¥ä¼šè¢«æ·»åŠ åˆ° where æ¡ä»¶ä¸­
</span><span class="c1"></span>      <span class="k">return</span> <span class="k">new</span> <span class="n">FilterPredicate</span><span
            class="o">(</span>
          <span class="k">new</span> <span class="n">PathElement</span><span class="o">(</span><span
            class="n">Topic</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span
            class="n">Boolean</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span
            class="s">&#34;delete&#34;</span><span class="o">),</span>
          <span class="n">Operator</span><span class="o">.</span><span class="na">IN</span><span class="o">,</span>
          <span class="n">Collections</span><span class="o">.</span><span class="na">singletonList</span><span
            class="o">(</span><span class="kc">false</span><span class="o">));</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h3 id="åŒæ—¶ä½¿ç”¨å¤šä¸ª-check">åŒæ—¶ä½¿ç”¨å¤šä¸ª Check</h3>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@ReadPermission</span><span class="o">(</span><span
        class="n">expression</span> <span class="o">=</span> <span class="n">PermissionCheck</span><span
        class="o">.</span><span class="na">TOPIC_DELETE_PERMISSION</span>
    <span class="o">+</span> <span class="s">&#34; OR (&#34;</span> <span class="o">+</span> <span class="n">TopicFilterCheck</span><span
            class="o">.</span><span class="na">NON_DELETE</span>
    <span class="o">+</span> <span class="s">&#34; OR &#34;</span> <span class="o">+</span> <span class="n">PermissionCheck</span><span
            class="o">.</span><span class="na">TOPIC_DELETE_OWN_PERMISSION</span>
    <span class="o">+</span> <span class="s">&#34; AND &#34;</span> <span class="o">+</span> <span class="n">TopicFilterCheck</span><span
            class="o">.</span><span class="na">DELETE_BY_SELF</span>
    <span class="o">+</span> <span class="s">&#34;)&#34;</span><span class="o">)</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="json-api">JSON API</h2>

                        <p>å¯ä» <a href="http://elide.io/pages/guide/10-jsonapi.html">Elide JSON API</a>ï¼Œ<a
                                href="http://jsonapi.org/">JSON API Spec</a>ï¼Œ<a
                                href="https://github.com/yahoo/elide/tree/master/elide-integration-tests/src/test/groovy/com/yahoo/elide/tests">æµ‹è¯•ç”¨ä¾‹</a>æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚
                        </p>

                        <h2 id="graphql">GraphQL</h2>

                        <p>å¯ä» <a href="http://elide.io/pages/guide/11-graphql.html">Elide GraphQL</a>ï¼Œ<a
                                href="https://graphql.org/">GraphQL</a>ï¼Œ<a
                                href="https://github.com/yahoo/elide/tree/master/elide-integration-tests/src/test/groovy/com/yahoo/elide/tests">æµ‹è¯•ç”¨ä¾‹</a>æŸ¥çœ‹æ›´å¤šä¿¡æ¯ã€‚
                        </p>

                        <h2 id="swagger">Swagger</h2>

                        <p>Elide æä¾›äº†è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£çš„å·¥å…·ï¼Œé™¤äº† swagger ç›¸åº”çš„ä¾èµ–ï¼ˆswagger è‡ªèº«æˆ–æ˜¯ springfox ä¹‹ç±»çš„ï¼‰ï¼Œåªéœ€è¦é¢å¤–æ·»åŠ </p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.yahoo.elide<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>elide-swagger<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>${elide.version}<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <p>ä¸‹è¿°ä»£ç å³å¯è·å¾— json æ ¼å¼çš„ swagger æ–‡æ¡£ï¼Œæ›´å¤šå…³äº swagger çš„ä¿¡æ¯å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ï¼Œæ€ä¹ˆä½¿ç”¨ swagger ä¹Ÿä¸å¤šè¯´äº†~~</p>
                        <div class="highlight">
                            <div class="chroma">
                                <table class="lntable">
                                    <tr>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre>
                                        </td>
                                        <td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Autowired</span>
<span class="kd">private</span> <span class="n">Elide</span> <span class="n">elide</span><span class="o">;</span>

<span class="kd">public</span> <span class="n">String</span> <span class="nf">getElideDoc</span><span
            class="o">()</span> <span class="o">{</span>
  <span class="n">Info</span> <span class="n">info</span> <span class="o">=</span> <span class="n">getInfo</span><span
            class="o">();</span>
  <span class="n">Swagger</span> <span class="n">swagger</span> <span class="o">=</span> <span
            class="k">new</span> <span class="n">SwaggerBuilder</span><span class="o">(</span><span
            class="n">elide</span><span class="o">.</span><span class="na">getElideSettings</span><span
            class="o">().</span><span class="na">getDictionary</span><span class="o">(),</span> <span
            class="n">info</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
  <span class="n">String</span> <span class="n">json</span> <span class="o">=</span> <span
            class="n">SwaggerBuilder</span><span class="o">.</span><span class="na">getDocument</span><span
            class="o">(</span><span class="n">swagger</span><span class="o">);</span>
  <span class="k">return</span> <span class="n">json</span><span class="o">;</span>
<span class="o">}</span></code></pre>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <h2 id="å†™åœ¨åå¤´">å†™åœ¨åå¤´</h2>

                        <ul>
                            <li>è™½ç„¶å·ç§°åŸºäº JPAï¼Œå®é™…ä¸Šä¸¥é‡ä¾èµ–äº Hibernateï¼Œæƒ³æ¢ EclipseLink æ˜¯ä¸å¯èƒ½çš„ã€‚â•®(â•¯â–½â•°)â•­</li>
                            <li>æ‰€æœ‰çš„æŸ¥è¯¢æ“ä½œéƒ½æ˜¯ä½¿ç”¨ HQL ç”Ÿæˆçš„ä¸å¸¦å…³ç³»çš„æŸ¥è¯¢ï¼Œå³ä½¿æ˜¯ <code>ToOne</code> ä¹Ÿè¦é¢å¤–æŸ¥è¯¢ï¼ŒåŠ¡å¿…éœ€è¦é…ç½®å¥½ç¼“å­˜ã€‚</li>
                            <li><code>OnUpdatePreSecurity</code> é˜¶æ®µæ— æ³•é‡æ–°è®¾ç½®è¢«ä¿®æ”¹çš„å±æ€§ï¼Œä½†æ˜¯ä¿®æ”¹å…¶å®ƒæœªè¢«ä¿®æ”¹çš„å±æ€§è¿˜æ˜¯æ²¡é—®é¢˜çš„ã€‚</li>
                            <li>ä»–ä»¬å®¶çš„æ–‡æ¡£æŒºç²—ç³™çš„ï¼Œå…³äº JSON API å’Œ GraphQL çš„è¯­æ³•å¯ä»¥å»ç¿»é˜…æµ‹è¯•ç”¨ä¾‹ã€‚</li>
                            <li>ä»–ä»¬å®¶çš„æ–‡æ¡£æŒºç²—ç³™çš„ï¼Œå¯ä»¥è¯•è¯•æœç´¢ issueã€‚</li>
                            <li>ç”¨è¿™ä¸ªé€ äº†ä¸€ä¸ª<a
                                    href="https://github.com/bicarb/bicarb-core/tree/master/src/main/java/org/bicarb/core/forum">ç©å…·</a>ï¼Œå””ï¼Œå¯ä»¥äº
                                check, hook, domain æŸ¥çœ‹æ›´å¤šä¾‹å­ã€‚
                            </li>
                        </ul>

                        <h2 id="reference-next">Reference &amp; Next</h2>

                        <ul>
                            <li><a href="http://elide.io/">Elide Documentation</a></li>
                            <li><a href="http://jsonapi.org/">JSON API</a> &amp; <a
                                    href="https://graphql.org/">GraphQL</a></li>
                            <li>
                                <a href="https://github.com/illyasviel/elide-spring-boot">illyasviel/elide-spring-boot</a>
                            </li>
                        </ul>
                    </div>

                    <div class="post-copyright">
                        <p class="copyright-item">
                            <span class="item-title">æ–‡ç« ä½œè€…</span>
                            <span class="item-content">
                                <a href="../../index.html" class="theme-link">
                                    GeoKylin
                                </a>
                            </span>
                        </p>
                        <p class="copyright-item">
                            <span class="item-title">ä¸Šæ¬¡æ›´æ–°</span>
                            <span class="item-content">2019-01-07</span>
                        </p>
                        <p class="copyright-item">
                            <span class="item-title">è®¸å¯åè®®</span>
                            <span class="item-content">
                                <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" title="(CC BY 4.0)">
                                    <i class="fa fa-creative-commons"></i>
                                    åˆ›ä½œå…±ç”¨ BY-NC-SA 4.0 å›½é™…è®¸å¯è¯
                                </a>
                            </span>
                        </p>
                    </div>
                    <div class="post-reward">
                        <input type="checkbox" name="reward" id="reward" hidden />
                        <label class="reward-button" for="reward">èµèµæ”¯æŒ</label>
                        <div class="qr-code">
                            <label class="qr-code-image" for="reward">
                                <img class="image" src="/images/wechatpay-qr-code.png">
                                <span>å¾®ä¿¡æ‰“èµ</span>
                            </label>
                            <label class="qr-code-image" for="reward">
                                <img class="image" src="/images/alipay-qr-code.png">
                                <span>æ”¯ä»˜å®æ‰“èµ</span>
                            </label>
                        </div>
                    </div>
                    <footer class="post-footer">
                        <nav class="post-nav">
                            <a class="next" href="/post/jpa-generation-type-insert-benchmark-on-postgresql/">
                                <span class="next-text nav-default">ä¸‹ä¸€ç¯‡</span>
                                <span class="next-text nav-mobile">ä¸‹ä¸€ç¯‡</span>
                                <i class="iconfont icon-right"></i>
                            </a>
                        </nav>
                    </footer>
                </article>
            </div>

            <div id="disqus_thread"></div>
            <script type="text/javascript">
                document.addEventListener('DOMContentLoaded', function () {
                    if (window.location.hostname === 'localhost') return;
                    var disqus_config = function () {
                        this.page.url = "https:\/\/blog.olowolo.com\/post\/generate-json-api-and-graphql-api-by-elide-and-spring\/";
                        this.page.identifier = "\/post\/generate-json-api-and-graphql-api-by-elide-and-spring\/";
                    };

                    var dsq = document.createElement('script');
                    dsq.type = 'text/javascript';
                    dsq.async = true;
                    var disqus_shortname = 'blog-olowolo';
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                });
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
        </div>
    </main>

    <footer id="footer" class="footer" style="background-color: rgba(250,250,250,0.5)">
        <div class="social-links">
            <a href="https://github.com/GeoKylin" class="iconfont icon-github" title="github" target=_blank></a>
            <a href=https://weibo.com/u/5602644538 class="iconfont icon-weibo" title="weibo" target=_blank></a>
            <a href=../../index.html class="iconfont icon-link" title="home" target=_blank></a>
            <a href="mailto:wangkai185@mails.ucas.edu.cn" class="iconfont icon-email" title="email" target=_blank></a>
        </div>
        <div class="copyright">
            <div class="busuanzi-footer">
                <span id="busuanzi_container_site_uv">
                    <span id="busuanzi_value_site_uv">
                        <img src="../img/spinner.svg" alt="spinner.svg"/>
                    </span>
                    ä½è¯»è€…é˜…è¯»äº†
                    <span id="busuanzi_value_site_pv">
                        <img src="../img/spinner.svg" alt="spinner.svg"/>
                    </span>
                    æ¬¡
                </span>
            </div>
            <span class="copyright-year">
                Copyright &copy; 2019 - 2019 <a href=../index.html class="theme-link" target="_blank">GeoKylin</a> &middot; Powered by the <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even" target="_blank">Even theme</a> for <a class="hexo-link" href="https://gohugo.io" target="_blank">Hugo</a>.
            </span>
        </div>
    </footer>

    <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js"
        integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js"
        integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
<script type="text/javascript" src="../js/even.ece58db6.min.js"></script>
<script type="application/javascript">
    var doNotTrack = false;
    if (!doNotTrack) {
        window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
        };
        ga.l = +new Date;
        ga('create', 'UA-93997803-4', 'auto');

        ga('send', 'pageview');
    }
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script type="text/javascript" src="../../js/canvas-nest.min.js" color="0,0,0" opacity='0.5' zIndex="-1" count="100"></script>
</body>
</html>
